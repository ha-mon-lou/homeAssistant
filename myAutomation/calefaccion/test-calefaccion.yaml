#
# Boton de test para probar acciones sobre la calefaccion
#
- id: "boton_calefaccion_toggle"
  alias: Boton calefaccion toggle
  triggers:
    - trigger: state
      entity_id:
        - input_boolean.calefaccion_boolean
  conditions: []
  actions:
    - sequence:
        - action: script.control_calefaccion
          data:
            mode: "{{ 'heat' if states('input_boolean.calefaccion_boolean') == 'on' else 'off' }}"
            temperatura: "{{states('input_number.nivel_sensacion_termica_ideal') if states('input_boolean.calefaccion_boolean') == 'on' else states('sensor.temperatura_exterior') }}"
  mode: single
